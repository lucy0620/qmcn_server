// https請求封裝
const https = require('https')
module.exports.getHttps = (url) => {
  return new Promise((resolve, reject) => {
    https.get(url, function (respObj) {
      let allData = ''
      respObj.on('data', function (chunk) {
        allData += chunk;
      })
      respObj.on('end', function () {
        resolve(JSON.parse(allData));
      })
    })
  })
}

// 将对象拆为用&和=连接的字符串
module.exports.joinParams = (data) => {
  let paramsArr = []
  for (let key in data) {
    paramsArr.push(key + '=' + data[key])
  }
  return paramsArr.join('&')
}

// 获取当前时间
module.exports.thisTimenum = () => {
  var _date = new Date(); //时间对象
  var y = _date.getFullYear();
  var m = add0(_date.getMonth() + 1);
  var d = add0(_date.getDate());
  var h = add0(_date.getHours());
  var i = add0(_date.getMinutes());
  var s = add0(_date.getSeconds());
  var No =''+y+m+d+h+i+s;
  return No;
}
function add0(num){
  if(num<10){
      num =  "0"+num ;
  }
  return num ;
}